{"version":3,"sources":["page/home/ArticleDetail.js","axios/index.js","static/image/defualt.jpeg","components/common/CommonLeft.js"],"names":["App","inject","observer","props","getList","a","header","person","params","get","res","data","setState","list","selType","length","suspendBtn","showModal","state","commit","info","languageContent","content","languageTitle","title","post","result","history","push","handleChange","p1","target","value","changeContent","publish","pathname","changeSelType","item","this","id","className","BaseComponent","url","Promise","resolve","reject","axios","then","catch","err","defaults","baseURL","withCredentials","timeout","headers","interceptors","request","use","config","error","response","status","module","exports","CommonLeft","changeInfo","logout","handleClick","e","show","popoverBottom","onClick","trigger","placement","overlay","src","uid","avatar","require","nickName","description","React","Component"],"mappings":"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","file":"static/js/8.067cb0b7.chunk.js","sourcesContent":["/**\r\n * 首页\r\n * author:dragonh\r\n * time:2020/4/30\r\n **/\r\nimport React from 'react';\r\nimport './ArticleDetail.scss';\r\nimport BaseComponent from \"../../components/common/BaseComponent\";\r\nimport {post, get} from \"../../axios\";\r\nimport {inject, observer} from \"mobx-react\";\r\nimport CommonLeft from \"../../components/common/CommonLeft\";\r\n\r\n// 观察者\r\n@inject('header')\r\n@observer\r\nclass App extends BaseComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showModal: false,\r\n            title: \"\",\r\n            content: \"\",\r\n            list: [],\r\n            selType: {}\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getList()\r\n    }\r\n\r\n    getList = async () => {\r\n        const {header: {person}} = this.props;\r\n\r\n        const params = {};\r\n        const res = await get(\"language/getLanguageList\", params);\r\n\r\n        if (res.data) {\r\n            this.setState({\r\n                list: res.data,\r\n                selType: res.data.length != 0 ? res.data[0] : {}\r\n            })\r\n        }\r\n    };\r\n\r\n    suspendBtn = () => {\r\n        this.setState({\r\n            showModal: !this.state.showModal\r\n        })\r\n    };\r\n\r\n    commit = async () => {\r\n        const {header: {person}} = this.props;\r\n\r\n        if (person.info) {\r\n            const params = {\r\n                languageContent: this.state.content,\r\n                languageTitle: this.state.title,\r\n            };\r\n\r\n            const res = await post(\"language/editLanguage\", params)\r\n            if (res.data && res.data.result) {\r\n                this.suspendBtn()\r\n                this.getList()\r\n            }\r\n        } else {\r\n            this.props.history.push(\"/login\");\r\n        }\r\n    };\r\n\r\n    handleChange = (p1) => {\r\n        this.setState({\r\n            title: p1.target.value\r\n        })\r\n    };\r\n\r\n    changeContent = (p1) => {\r\n        this.setState({\r\n            content: p1.target.value\r\n        })\r\n    };\r\n\r\n    publish = () => {\r\n        this.props.history.push({\r\n            pathname: \"/markdown\",\r\n            state: {\r\n                list: this.state.list,\r\n                publish: true\r\n            }\r\n        });\r\n    };\r\n\r\n    //改变选中的语言\r\n    changeSelType = (item) => {\r\n        this.setState({\r\n            selType: item\r\n        })\r\n    };\r\n\r\n    render() {\r\n        const {list, selType} = this.state;\r\n        return (\r\n            <div id=\"articleDetail\">\r\n                <CommonLeft/>\r\n\r\n                <div className={\"right\"}>\r\n                    <div className={\"box_387X1\"}>\r\n                        <div className={\"text_388X1\"}>\r\n                            标题标题标题\r\n                        </div>\r\n\r\n\r\n                        <div className={\"box_200\"}>\r\n                            <div className={\"text_420X1\"}>Javascript</div>\r\n                            <div className={\"text_420X1\"}>Javascript</div>\r\n                            <div className={\"text_420X1\"}>Javascript</div>\r\n                        </div>\r\n\r\n                        <div className={\"text_393X1\"}>\r\n                            内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容\r\n                            内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容\r\n                            内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容\r\n                            内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容\r\n                            内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容\r\n                            内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容\r\n                            内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容\r\n                            内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容\r\n                            内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容\r\n                            内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容\r\n                            内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容\r\n                            内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容\r\n                            内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容\r\n                            内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容\r\n                            内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容\r\n                            内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容\r\n                            。。。。。。\r\n                        </div>\r\n\r\n                        <div className={\"box_201\"}>\r\n                            <div className={\"box_202\"}>\r\n                                <div className={\"icon_7X1\"}>\r\n                                    {\"<\"}\r\n                                </div>\r\n\r\n                                <div className={\"text_436X1\"}>上一篇文章标题</div>\r\n                            </div>\r\n\r\n                            <div className={\"box_202\"}>\r\n                                <div className={\"text_436X1\"}>下一篇文章标题</div>\r\n\r\n                                <div className={\"icon_7X1\"}>\r\n                                    {\">\"}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n","/**axios封装\r\n * 请求拦截、相应拦截、错误统一处理\r\n */\r\nimport axios from 'axios';\r\nimport QS from 'qs';\r\n// import {Toast} from 'vant';\r\n// import store from '../store/index'\r\n\r\nconst development = \"http://127.0.0.1:8888/blog/\";\r\nconst production = \"https://www.dontheway.com:8880/blog/\";\r\n\r\n// 环境的切换\r\nif (process.env.NODE_ENV == 'development') {\r\n    axios.defaults.baseURL = development;\r\n} else if (process.env.NODE_ENV == 'debug') {\r\n    axios.defaults.baseURL = '';\r\n} else if (process.env.NODE_ENV == 'production') {\r\n    axios.defaults.baseURL = production;\r\n}\r\n\r\n// 允许携带cookie，跨域设置。跨域的时候会造成无法携带cookie，这时需要允许跨域。同时后端也要进行配置\r\naxios.defaults.withCredentials = true;\r\n\r\n// 请求超时时间\r\naxios.defaults.timeout = 10000;\r\n\r\n// 请求头设置，post请求的时候必须设置'Content-Type': 'application/x-www-form-urlencoded'\r\n//以下两种写法都可以\r\naxios.defaults.headers = {\r\n    'Content-Type': 'application/x-www-form-urlencoded'\r\n};\r\n\r\n// post请求头\r\n// axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded;charset=UTF-8';\r\n\r\n// 请求拦截器\r\naxios.interceptors.request.use(\r\n    config => {\r\n        // 每次发送请求之前判断是否存在token，如果存在，则统一在http请求的header都加上token，不用每次请求都手动添加了\r\n        // 即使本地存在token，也有可能token是过期的，所以在响应拦截器中要对返回状态进行判断\r\n        // const token = store.state.token;\r\n        const token = \"\";\r\n        token && (config.headers.Authorization = token);\r\n        return config;\r\n    },\r\n    error => {\r\n        return Promise.error(error);\r\n    })\r\n\r\n// 响应拦截器\r\naxios.interceptors.response.use(\r\n    response => {\r\n        if (response.status === 200) {\r\n            return Promise.resolve(response);\r\n        } else {\r\n            return Promise.reject(response);\r\n        }\r\n    },\r\n    // 服务器状态码不是200的情况\r\n    error => {\r\n        if (error.response.status) {\r\n            switch (error.response.status) {\r\n                // 401: 未登录\r\n                // 未登录则跳转登录页面，并携带当前页面的路径\r\n                // 在登录成功后返回当前页面，这一步需要在登录页操作。\r\n                case 401:\r\n\r\n                    // router.replace({\r\n                    //     path: '/login',\r\n                    //     query: {redirect: router.currentRoute.fullPath}\r\n                    // });\r\n                    break;\r\n                // 403 token过期\r\n                // 登录过期对用户进行提示\r\n                // 清除本地token和清空vuex中token对象\r\n                // 跳转登录页面\r\n                case 403:\r\n                    // Toast({\r\n                    //     message: '登录过期，请重新登录',\r\n                    //     duration: 1000,\r\n                    //     forbidClick: true\r\n                    // });\r\n                    // // 清除token\r\n                    // localStorage.removeItem('token');\r\n                    // store.commit('loginSuccess', null);\r\n                    // // 跳转登录页面，并将要浏览的页面fullPath传过去，登录成功后跳转需要访问的页面\r\n                    // setTimeout(() => {\r\n                    //     router.replace({\r\n                    //         path: '/login',\r\n                    //         query: {\r\n                    //             redirect: router.currentRoute.fullPath\r\n                    //         }\r\n                    //     });\r\n                    // }, 1000);\r\n                    break;\r\n                // 404请求不存在\r\n                case 404:\r\n                    // Toast({\r\n                    //     message: '网络请求不存在',\r\n                    //     duration: 1500,\r\n                    //     forbidClick: true\r\n                    // });\r\n                    break;\r\n                // 其他错误，直接抛出错误提示\r\n                default:\r\n                // Toast({\r\n                //     message: error.response.data.message,\r\n                //     duration: 1500,\r\n                //     forbidClick: true\r\n                // });\r\n            }\r\n            return Promise.reject(error.response);\r\n        }\r\n    }\r\n);\r\n\r\n/**\r\n * get方法，对应get请求\r\n * @param {String} url [请求的url地址]\r\n * @param {Object} params [请求时携带的参数]\r\n */\r\nexport function get(url, params) {\r\n    return new Promise((resolve, reject) => {\r\n        axios.get(url, {\r\n            params: params,\r\n        })\r\n            .then(res => {\r\n                console.log(\"请求参数\", params);\r\n                console.log(\"请求地址\", url);\r\n                console.log(\"请求结果\", res);\r\n                resolve(res.data);\r\n            })\r\n            .catch(err => {\r\n                console.log(\"请求错误\", err);\r\n                reject(err.data)\r\n            })\r\n    });\r\n}\r\n\r\n/**\r\n * post方法，对应post请求\r\n * @param {String} url [请求的url地址]\r\n * @param {Object} params [请求时携带的参数]\r\n */\r\nexport function post(url, params) {\r\n    return new Promise((resolve, reject) => {\r\n        //axios的默认Content-Type是 application/json;charset=utf-8\r\n        //params= QS.stringify(params);   这会让参数拼接在URL后面\r\n        //如果后端参数是body中拿到的，那么需要设置Content-Type': 'application/x-www-form-urlencoded'\r\n        axios.post(url, params)\r\n            .then(res => {\r\n                console.log(\"请求参数\", params);\r\n                console.log(\"请求地址\", url);\r\n                console.log(\"请求结果\", res);\r\n                resolve(res.data);\r\n            })\r\n            .catch(err => {\r\n                console.log(\"请求错误\", err);\r\n                reject(err.data)\r\n            })\r\n    });\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/defualt.8e05f6fe.jpeg\";","import React from 'react';\r\nimport \"./CommonLeft.scss\"\r\nimport {OverlayTrigger, Popover} from \"react-bootstrap\";\r\nimport {get} from \"../../axios\";\r\nimport {inject, observer} from \"mobx-react\";\r\n\r\n@inject('header')\r\n@observer\r\nclass CommonLeft extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            show: true,\r\n            target: null\r\n        }\r\n\r\n        this.popoverBottom = (\r\n            <Popover id=\"popover-positioned-bottom\" className={\"loginImage\"} title=\"底部弹出\">\r\n                <div className={\"box_xx200\"} onClick={this.changeInfo}>修改资料</div>\r\n                <div className={\"box_xx200\"} onClick={this.logout}>退出登录</div>\r\n            </Popover>\r\n        );\r\n    }\r\n\r\n    /*方法说明\r\n     *@method changeInfo:更新用户信息\r\n     *@for CommonLeft\r\n     *@param nil\r\n     *@return nil\r\n    */\r\n    changeInfo = () => {\r\n        this.props.history.push({\r\n            pathname: \"/updateInfo\",\r\n        });\r\n    }\r\n\r\n    /*方法说明\r\n     *@method logout\r\n     *@for CommonLeft\r\n     *@param nil\r\n     *@return nil\r\n    */\r\n    logout = () => {\r\n        get(\"user/logout\", {}).then(res => {\r\n            this.props.history.push({\r\n                pathname: \"/login\",\r\n            });\r\n        })\r\n\r\n    }\r\n\r\n    handleClick = e => {\r\n        console.log(e.target)\r\n        this.setState({\r\n            target: e.target,\r\n            show: !this.state.show\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const {header: {person}} = this.props\r\n        console.log(\"数据：：：：\", person, person && person.uid)\r\n        return (\r\n            <div id={\"commonLeft\"}>\r\n\r\n                <div\r\n                    onClick={this.handleClick}\r\n                    className={\"box_278X1\"}>\r\n\r\n\r\n                    <OverlayTrigger trigger=\"click\" placement=\"bottom\" overlay={this.popoverBottom}>\r\n                        <img\r\n                            src={person && person.uid && person.avatar ? person.avatar : require(\"../../static/image/defualt.jpeg\")}\r\n                            className={\"photo\"}/>\r\n                    </OverlayTrigger>\r\n\r\n                    <h4>\r\n                        {person && person.uid ?\r\n                            person.nickName ? person.nickName : \"请修改个人资料\"\r\n                            : \"请登录\"}\r\n                    </h4>\r\n\r\n                    <p>\r\n                        {person && person.uid ? person.description : \"\"}\r\n                    </p>\r\n                </div>\r\n\r\n                <div className={\"box_275X1\"}>\r\n                    <div className={\"wrapper_118X1\"}>\r\n                        <div className={\"text_268X1\"}>1</div>\r\n                        <div className={\"text_269X1\"}>文章</div>\r\n                    </div>\r\n\r\n                    <div className={\"wrapper_118X1\"}>\r\n                        <div className={\"text_268X1\"}>1</div>\r\n                        <div className={\"text_269X1\"}>分类</div>\r\n                    </div>\r\n\r\n                    <div className={\"wrapper_118X1\"}>\r\n                        <div className={\"text_268X1\"}>1</div>\r\n                        <div className={\"text_269X1\"}>Tags</div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default CommonLeft;\r\n"],"sourceRoot":""}