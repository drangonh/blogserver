{"version":3,"sources":["static/image/wechat.png","static/image/QQ.png","page/login/index_1.js","axios/index.js"],"names":["module","exports","index","inject","observer","props","login","params","userName","name","value","passWord","pwd","post","then","res","data","header","changeInfo","history","push","localStorage","setItem","JSON","stringify","register","Username","Password","ConfirmPassword","confirmPwd","uid","userId","avatar","email","nickName","description","changeState","setState","preState","state","this","id","className","onClick","placeholder","type","ref","hidden","src","require","React","Component","get","url","Promise","resolve","reject","axios","catch","err","defaults","baseURL","withCredentials","timeout","headers","interceptors","request","use","config","error","response","status"],"mappings":"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","file":"static/js/10.67363b5d.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAAABGdBTUEAALGPC/xhBQAABWNJREFUWAnNWHtsFEUYn2/2ei0PIVHAWkwKaBXBPq4YYzRGqBqN9opAJNFI9A8UNIaIBpAWwibk2ggRCZKAxEcIf5jQSKQHNiEqQgxoAr0eVYiGh1oDapWH2pbedefzN4tbrrt7ZduriZNcZ+Z7zW/me8xsSVyjmYknJvUI9bBgfpCEuAPi41mIcUSiU7D4Q5A4LQQdYub99ZGmg0QE9vA1rOnfVrZEHwCIZSz4MQDJKpepDXBnmMW2/EKxySyKd2Xyhjr2LGx+++T1qdTlLTiR+UM3Su1kiKWx8vhHQ7Xh6PUDWNtWU8ZpbhaCixyBXHqS9Ga4fMZyk0w1VDvSUVzdGp0uetWnwwVO22XFr6Vaj2531hhKbwNcn1wwylK8F/Ez3m0EcXXxSiK4Of3nJOgU3PFnfypAMj9Tm6he46YHndsAL6gLMaResVeJdhSOnlTYENlziyRa6uUjf4lSJGVVfWX81rEj5c2gtLnlmGm17SE3I8BcIikKYeBlP1lJcuuSkrd7bF5I+gc8i2P1FU37tcyKqU1/kRT7vLbYsFis99KvTZHpdPfTcIThJ6qEWvgOv5Bn83pV1E+GiUtXJmru0zzzbHSkrpd+cqA9og8jCy8rmWoT0c8RJ7OySaAWdsBtHZCZlk0GMYoIoeP4CwB8Q58ciSRi83vQf0H97pZGaOfaso+P9vEDDDTA01h8cgDZgCL0E8Csk5I+EcooZrJmKRbFSKAJKPp6I7/C0MmQlJ+VloWPzKdGayDDVNtS3Q2tgoGEgvEoDWB1YRFqTIveFwFlMeyOGViXzkJn49gRcquOXz9ZncV6Rzk1HQZIqJk6FHqEdQwntvza4PSSXISNrLvUrU6sapn9kKa4m8Q1e8pNHMwcMdZFFKpWbD2FUPkAXrxuMPpaFiAnWmTtq0tEX3Hrorzx127iYOYoK4sFW7Oh41uqAtvCSSnmt1a2Rhdl6kgKGVsQwL2ZxKBjuPaQlHwS7nzdrQPeebj8MH6+SYCTb0H2/+zRU7xxVbLmdocuY6W723Ed7HQIg+mlMGJWL22Aa/vudFufRA82XtFQGb9Xkpjntonb513cPDMmVRRNubKJqxI6YS2lNjgU2/DogtASgPzBIQbp9R2NJ1U7Ssc9XnlKjcnjizadjHNuPjz2m6Ytom1pjH/38ulRMzkX1ybgO8zaZLSSLfElQnaEQxuoB8BmaDfjxbLJX47aJPFXimluv+INYR1SCLkPMZwIXlUW/YXwwHt9rqkvj7eEQrimiOzd+StdpeLy0PFTfJXiHnEpys3zbnBaCm4M4e+C7OCwCRKTtWwfQD1ZW7bnsMzPuxs7PKHnAzWcwN9YKdBpD2QnO4/CmtcPoCbEpu36MeApTkH9atc6/0WTpOxD8gD898Vxv7MoYu0ASsIunyQqMYQ84sgNd28pw67PiIX+LZXqnoeTkYjkLwSTWR+JH3Ak9Mu7k7puTHNqAivjclkkr601cfkcMvkmR2Y4ehzK3vrI7uPalgcgvI5nP89syADmLLqsfEcnxvgOtn82Gc/5GGJxsyOTe09pwzDWOHaQD7k1k02JD6ODKNb2ozU3a1pbvtRQ2bTFseOJQYcRtNeflOFwQQ0Kg+dbJKgNRw63zrpMcJqeM0BtxJzeeD5/lKhCMsX1fLANMafwDb0kFtmzwq2bs4vdBusSNc+yUHVItBI3L/ucLuVHZoyDNzyPlmE5wcyFY5Gm7eGKu6YaZDwO+mbcCN+gRF15LeP6wbwDJ41/MokGnM77CA28dnhsKtnSV9oy7Q37CWYazxybZ54rEF2dCuGQyqTXJufcySr9BkB/h5L2aibvfzU2W+fc5gfoH3lp0g5VB1F/AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAgCAYAAAABtRhCAAAABGdBTUEAALGPC/xhBQAAAz5JREFUSA21V01IVFEUPufOKKgl1pQSmUFCEUY/g9UIReiU4dhoOtbOTSC1iLa1CYIogmrhNoq0TYsKxHIx46QUVJC4KxOJaJOQOuOgqfPz3judN/KG9+a9GR1nvIu5957zne+79517z3uDsI52ici2FAz7iKADARoIYDcSxQnwJwB+ECD6h85XjK+DCjg+e2sNzp0lBZ8S0d6sSMSAzUZX3rl3/MmGyyrYGgjfZKH7BCSykWg+RJxDG7QPuR2fNVt6n1HQMxzykUKv0wPWmiPCXzuUOAeby6atsJYr7/y4tIt31mcVsJaN81yVgJUXmXCWgrFotAcItmQKWtNO4G4Lhg9b4UyC6olUCHqswLnYErJyzQpvElweCZ8EoGorcE42BJ8V3iSoKOS0AuZsI6jsHA2ZFm4SRII9OZNnCIjLZi6TIBDWZojP2cwFw8RluIcXAhG3TFIwZ+bMAbNVxY6avkaMahDDDhWQujRHgfqds1L4jJ7LIMjFuEbvLMRYATBwGgT5OkiFENFzcM4MnKkctvgjTYCyH4js+oB8x1zQf2GJrX7odMW8ypXcYYd/sRJQelloMVWAa/I+Wpaeq2O1JQWjELvDtbNy1VT4X35ht3sDoeak4MX3kVpAzLt2rrVMCehBUpCLbNdmPErTAgiOtY0sHBD8NveanJtkkOWEV3DuXJvEb6IlBVwCkOKqBwG/8h0ZNaHyNPC16GXy1dKGEFd3OMGHJgS2om6B4lGe/GnhGLaXbr8tCK+zBmePJuwooLvYLlYGGst/M3qqxR/6wrenIS1yQ1MU+HDwFC5y8LOWQHiyTOC3VKXRGD2B+aMEyli+J5eJJ8uqHUde1WEyZRp/Wi3lXKLi5K/qFQ2w4R5Rik1H6tLjDTv0+OducFXoTQdteI7wz25H19smx3eNI7VDrnmcVbyrOQrS86emLNEtPVdK8Oo42Pn4luqdmcb8dT3F2JlMfr2dn1i5fp4SfFKPCd7iPb3TYhwTiI9PnHMctNnAyXc3++cIP1IhjFfNkENVwDsccskAl0GBQ4SwVbUx6Acv5lNRsXgz0Lgtotq05gku7Ac57iPE43ydqpEwwf0Mx47xovrT/039B3soCv5Lz+E6AAAAAElFTkSuQmCC\"","import React from 'react';\nimport \"./index_1.scss\"\nimport {post, get} from \"../../axios\"\nimport {inject, observer} from \"mobx-react\";\n\n// 观察者\n@inject('header')\n@observer\n\nclass index extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            login: true,//为true时代表登录，否则为注册\n        }\n\n        const {header} = this.props;\n        console.log(header)\n    }\n\n    login = () => {\n        const params = {userName: this.name.value, passWord: this.pwd.value};\n\n        post(\"user/login\", params).then(res => {\n            console.log(\"登录测试::\", res)\n            if (res.data) {\n                const {header} = this.props;\n                header.changeInfo(res.data);\n                this.props.history.push(\"/home\");\n                localStorage.setItem(\"userInfo\", JSON.stringify(res.data))\n            }\n        });\n\n    };\n\n    register = () => {\n        const params = {\n            Username: this.name.value,\n            Password: this.pwd.value,\n            ConfirmPassword: this.confirmPwd.value\n        };\n\n        post(\"user/register\", params).then(res => {\n\n            if (res.data) {\n                const {header} = this.props;\n                header.changeInfo({\n                    uid: res.data.userId,\n                    avatar: \"\",\n                    email: \"\",\n                    nickName: \"\",\n                    description: \"\"\n                });\n\n                this.props.history.push(\"/updateInfo\");\n            }\n        });\n    };\n\n    changeState = (res) => {\n        console.log(res)\n        this.setState((preState, props) => {\n                return {\n                    login: res\n                }\n            }\n        )\n    };\n\n    render() {\n        const {login} = this.state;\n        return (\n            <div id={\"loginPage\"}>\n                <div className={\"box_1X1\"}>\n\n                </div>\n\n                <div className={\"box_2X1\"}>\n\n                    {/*左*/}\n                    <div className={\"wrapper_2X1 uac\"}>\n\n                        <div className={\"wrapper_2X2 \"}>\n                            <div\n                                onClick={() => this.changeState(true)}\n                                className={login ? \"wrapper_2X3 uac_jc\" : \"wrapper_2X4 uac_jc\"}>\n                                密码登录\n                            </div>\n\n                            <div\n                                onClick={() => this.changeState(false)}\n                                className={login ? \"wrapper_2X4 uac_jc\" : \"wrapper_2X3 uac_jc\"}>\n                                注册\n                            </div>\n                        </div>\n\n                        <div className={\"text_12X1\"}>\n                            <input\n                                placeholder={\"请输入常用账号\"}\n                                type={\"text\"}\n                                className={\"editValue\"}\n                                ref={ref => this.name = ref}\n                            />\n                        </div>\n\n                        <div className={\"text_12X1 margin-top28\"}>\n                            <input\n                                placeholder={\"请输入密码\"}\n                                type={\"password\"}\n                                className={\"editValue\"}\n                                ref={ref => this.pwd = ref}\n                            />\n                        </div>\n\n                        <div\n                            hidden={login}\n                            className={\"text_12X1 margin-top28\"}>\n                            <input\n                                placeholder={\"请再次输入密码\"}\n                                type={\"password\"}\n                                className={\"editValue\"}\n                                ref={ref => this.confirmPwd = ref}\n                            />\n                        </div>\n\n                        <div\n                            hidden={!login}\n                            className={\"box_202\"}>\n                            <div className={\"text_17X1\"}>\n                                忘记密码?\n                            </div>\n                        </div>\n\n                        <div\n                            onClick={login ? this.login : this.register}\n                            className={\"text_18X1 uac_jc\"}>\n                            {login ? \"登 录\" : \"注 册\"}\n                        </div>\n                    </div>\n\n                    {/*右边*/}\n                    <div className={\"box_203 uac_jc\"}>\n                        <div className={\"text_21X1\"}>\n                            使用以下账号直接登录:\n                        </div>\n\n                        <div className={\"box_204\"}>\n                            <img\n                                className={\"wechat margin-right20\"}\n                                src={require(\"../../static/image/wechat.png\")}\n                            />\n\n                            <img\n                                className={\"qq\"}\n                                src={require(\"../../static/image/QQ.png\")}\n                            />\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\n\nexport default index\n","/**axios封装\n * 请求拦截、相应拦截、错误统一处理\n */\nimport axios from 'axios';\nimport QS from 'qs';\n// import {Toast} from 'vant';\n// import store from '../store/index'\n\nconst development = \"http://127.0.0.1:8888/blog/\";\nconst production = \"https://dontheway.com:880/blog/\";\n\n// 环境的切换\nif (process.env.NODE_ENV == 'development') {\n    axios.defaults.baseURL = development;\n} else if (process.env.NODE_ENV == 'debug') {\n    axios.defaults.baseURL = '';\n} else if (process.env.NODE_ENV == 'production') {\n    axios.defaults.baseURL = production;\n}\n\n// 允许携带cookie，跨域设置。跨域的时候会造成无法携带cookie，这时需要允许跨域。同时后端也要进行配置\naxios.defaults.withCredentials = true;\n\n// 请求超时时间\naxios.defaults.timeout = 10000;\n\n// 请求头设置，post请求的时候必须设置'Content-Type': 'application/x-www-form-urlencoded'\n//以下两种写法都可以\naxios.defaults.headers = {\n    'Content-Type': 'application/x-www-form-urlencoded'\n};\n\n// post请求头\n// axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded;charset=UTF-8';\n\n// 请求拦截器\naxios.interceptors.request.use(\n    config => {\n        // 每次发送请求之前判断是否存在token，如果存在，则统一在http请求的header都加上token，不用每次请求都手动添加了\n        // 即使本地存在token，也有可能token是过期的，所以在响应拦截器中要对返回状态进行判断\n        // const token = store.state.token;\n        const token = \"\";\n        token && (config.headers.Authorization = token);\n        return config;\n    },\n    error => {\n        return Promise.error(error);\n    })\n\n// 响应拦截器\naxios.interceptors.response.use(\n    response => {\n        if (response.status === 200) {\n            return Promise.resolve(response);\n        } else {\n            return Promise.reject(response);\n        }\n    },\n    // 服务器状态码不是200的情况\n    error => {\n        if (error.response.status) {\n            switch (error.response.status) {\n                // 401: 未登录\n                // 未登录则跳转登录页面，并携带当前页面的路径\n                // 在登录成功后返回当前页面，这一步需要在登录页操作。\n                case 401:\n\n                    // router.replace({\n                    //     path: '/login',\n                    //     query: {redirect: router.currentRoute.fullPath}\n                    // });\n                    break;\n                // 403 token过期\n                // 登录过期对用户进行提示\n                // 清除本地token和清空vuex中token对象\n                // 跳转登录页面\n                case 403:\n                    // Toast({\n                    //     message: '登录过期，请重新登录',\n                    //     duration: 1000,\n                    //     forbidClick: true\n                    // });\n                    // // 清除token\n                    // localStorage.removeItem('token');\n                    // store.commit('loginSuccess', null);\n                    // // 跳转登录页面，并将要浏览的页面fullPath传过去，登录成功后跳转需要访问的页面\n                    // setTimeout(() => {\n                    //     router.replace({\n                    //         path: '/login',\n                    //         query: {\n                    //             redirect: router.currentRoute.fullPath\n                    //         }\n                    //     });\n                    // }, 1000);\n                    break;\n                // 404请求不存在\n                case 404:\n                    // Toast({\n                    //     message: '网络请求不存在',\n                    //     duration: 1500,\n                    //     forbidClick: true\n                    // });\n                    break;\n                // 其他错误，直接抛出错误提示\n                default:\n                // Toast({\n                //     message: error.response.data.message,\n                //     duration: 1500,\n                //     forbidClick: true\n                // });\n            }\n            return Promise.reject(error.response);\n        }\n    }\n);\n\n/**\n * get方法，对应get请求\n * @param {String} url [请求的url地址]\n * @param {Object} params [请求时携带的参数]\n */\nexport function get(url, params) {\n    return new Promise((resolve, reject) => {\n        axios.get(url, {\n            params: params,\n        })\n            .then(res => {\n                console.log(\"请求参数\", params);\n                console.log(\"请求地址\", url);\n                console.log(\"请求结果\", res);\n                resolve(res.data);\n            })\n            .catch(err => {\n                console.log(\"请求错误\", err);\n                reject(err.data)\n            })\n    });\n}\n\n/**\n * post方法，对应post请求\n * @param {String} url [请求的url地址]\n * @param {Object} params [请求时携带的参数]\n */\nexport function post(url, params) {\n    return new Promise((resolve, reject) => {\n        //axios的默认Content-Type是 application/json;charset=utf-8\n        //params= QS.stringify(params);   这会让参数拼接在URL后面\n        //如果后端参数是body中拿到的，那么需要设置Content-Type': 'application/x-www-form-urlencoded'\n        axios.post(url, params)\n            .then(res => {\n                console.log(\"请求参数\", params);\n                console.log(\"请求地址\", url);\n                console.log(\"请求结果\", res);\n                resolve(res.data);\n            })\n            .catch(err => {\n                console.log(\"请求错误\", err);\n                reject(err.data)\n            })\n    });\n}\n"],"sourceRoot":""}