{"version":3,"sources":["static/image/wechat.png","static/image/QQ.png","page/login/index_1.js","axios/index.js"],"names":["module","exports","index","inject","observer","props","login","params","userName","name","value","passWord","pwd","post","then","res","data","header","changeInfo","history","push","localStorage","setItem","JSON","stringify","register","Username","Password","ConfirmPassword","confirmPwd","changeState","setState","preState","state","this","id","className","onClick","placeholder","type","ref","hidden","src","require","React","Component","get","url","Promise","resolve","reject","axios","catch","err","defaults","baseURL","withCredentials","timeout","headers","interceptors","request","use","config","error","response","status"],"mappings":"yGAAAA,EAAOC,QAAU,06D,kBCAjBD,EAAOC,QAAU,8sC,sHCSXC,EAHLC,YAAO,S,GACPC,Y,oDAGG,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IAMVC,MAAQ,WACJ,IAAMC,EAAS,CAACC,SAAU,EAAKC,KAAKC,MAAOC,SAAU,EAAKC,IAAIF,OAE9DG,YAAK,aAAcN,GAAQO,MAAK,SAAAC,GAExBA,EAAIC,OACa,EAAKX,MAAfY,OACAC,WAAWH,EAAIC,MACtB,EAAKX,MAAMc,QAAQC,KAAK,SACxBC,aAAaC,QAAQ,WAAYC,KAAKC,UAAUT,EAAIC,YAhB7C,EAsBnBS,SAAW,WACP,IAAMlB,EAAS,CACXmB,SAAU,EAAKjB,KAAKC,MACpBiB,SAAU,EAAKf,IAAIF,MACnBkB,gBAAiB,EAAKC,WAAWnB,OAGrCG,YAAK,gBAAiBN,GAAQO,MAAK,SAAAC,GAE3BA,EAAIC,MACJ,EAAKX,MAAMc,QAAQC,KAAK,mBAhCjB,EAqCnBU,YAAc,SAACf,GAEX,EAAKgB,UAAS,SAACC,EAAU3B,GACjB,MAAO,CACHC,MAAOS,OAvCnB,EAAKkB,MAAQ,CACT3B,OAAO,GAHI,E,qDA+CT,IAAD,OACEA,EAAS4B,KAAKD,MAAd3B,MACP,OACI,yBAAK6B,GAAI,aACL,yBAAKC,UAAW,YAIhB,yBAAKA,UAAW,WAGZ,yBAAKA,UAAW,mBAEZ,yBAAKA,UAAW,gBACZ,yBACIC,QAAS,kBAAM,EAAKP,aAAY,IAChCM,UAAW9B,EAAQ,qBAAuB,sBAF9C,4BAMA,yBACI+B,QAAS,kBAAM,EAAKP,aAAY,IAChCM,UAAW9B,EAAQ,qBAAuB,sBAF9C,iBAOJ,yBAAK8B,UAAW,aACZ,2BACIE,YAAa,6CACbC,KAAM,OACNH,UAAW,YACXI,IAAK,SAAAA,GAAG,OAAI,EAAK/B,KAAO+B,MAIhC,yBAAKJ,UAAW,0BACZ,2BACIE,YAAa,iCACbC,KAAM,WACNH,UAAW,YACXI,IAAK,SAAAA,GAAG,OAAI,EAAK5B,IAAM4B,MAI/B,yBACIC,OAAQnC,EACR8B,UAAW,0BACX,2BACIE,YAAa,6CACbC,KAAM,WACNH,UAAW,YACXI,IAAK,SAAAA,GAAG,OAAI,EAAKX,WAAaW,MAItC,yBACIC,QAASnC,EACT8B,UAAW,WACX,yBAAKA,UAAW,aAAhB,8BAKJ,yBACIC,QAAS/B,EAAQ4B,KAAK5B,MAAQ4B,KAAKT,SACnCW,UAAW,oBACV9B,EAAQ,gBAAQ,kBAKzB,yBAAK8B,UAAW,kBACZ,yBAAKA,UAAW,aAAhB,iEAIA,yBAAKA,UAAW,WACZ,yBACIA,UAAW,wBACXM,IAAKC,EAAQ,OAGjB,yBACIP,UAAW,KACXM,IAAKC,EAAQ,e,GArIzBC,IAAMC,a,MAgJX3C,a,gCCzJf,+FAyHO,SAAS4C,EAAIC,EAAKxC,GACrB,OAAO,IAAIyC,SAAQ,SAACC,EAASC,GACzBC,IAAML,IAAIC,EAAK,CACXxC,OAAQA,IAEPO,MAAK,SAAAC,GAIFkC,EAAQlC,EAAIC,SAEfoC,OAAM,SAAAC,GAEHH,EAAOG,EAAIrC,YAUpB,SAASH,EAAKkC,EAAKxC,GACtB,OAAO,IAAIyC,SAAQ,SAACC,EAASC,GAIzBC,IAAMtC,KAAKkC,EAAKxC,GACXO,MAAK,SAAAC,GAIFkC,EAAQlC,EAAIC,SAEfoC,OAAM,SAAAC,GAEHH,EAAOG,EAAIrC,YA7IvBmC,IAAMG,SAASC,QARA,uCAYnBJ,IAAMG,SAASE,iBAAkB,EAGjCL,IAAMG,SAASG,QAAU,IAIzBN,IAAMG,SAASI,QAAU,CACrB,eAAgB,qCAOpBP,IAAMQ,aAAaC,QAAQC,KACvB,SAAAC,GAMI,OAAOA,KAEX,SAAAC,GACI,OAAOf,QAAQe,MAAMA,MAI7BZ,IAAMQ,aAAaK,SAASH,KACxB,SAAAG,GACI,OAAwB,MAApBA,EAASC,OACFjB,QAAQC,QAAQe,GAEhBhB,QAAQE,OAAOc,MAI9B,SAAAD,GACI,GAAIA,EAAMC,SAASC,OAmDf,OAlDQF,EAAMC,SAASC,OAkDhBjB,QAAQE,OAAOa,EAAMC","file":"static/js/9.74785ac2.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAAABGdBTUEAALGPC/xhBQAABWNJREFUWAnNWHtsFEUYn2/2ei0PIVHAWkwKaBXBPq4YYzRGqBqN9opAJNFI9A8UNIaIBpAWwibk2ggRCZKAxEcIf5jQSKQHNiEqQgxoAr0eVYiGh1oDapWH2pbedefzN4tbrrt7ZduriZNcZ+Z7zW/me8xsSVyjmYknJvUI9bBgfpCEuAPi41mIcUSiU7D4Q5A4LQQdYub99ZGmg0QE9vA1rOnfVrZEHwCIZSz4MQDJKpepDXBnmMW2/EKxySyKd2Xyhjr2LGx+++T1qdTlLTiR+UM3Su1kiKWx8vhHQ7Xh6PUDWNtWU8ZpbhaCixyBXHqS9Ga4fMZyk0w1VDvSUVzdGp0uetWnwwVO22XFr6Vaj2531hhKbwNcn1wwylK8F/Ez3m0EcXXxSiK4Of3nJOgU3PFnfypAMj9Tm6he46YHndsAL6gLMaResVeJdhSOnlTYENlziyRa6uUjf4lSJGVVfWX81rEj5c2gtLnlmGm17SE3I8BcIikKYeBlP1lJcuuSkrd7bF5I+gc8i2P1FU37tcyKqU1/kRT7vLbYsFis99KvTZHpdPfTcIThJ6qEWvgOv5Bn83pV1E+GiUtXJmru0zzzbHSkrpd+cqA9og8jCy8rmWoT0c8RJ7OySaAWdsBtHZCZlk0GMYoIoeP4CwB8Q58ciSRi83vQf0H97pZGaOfaso+P9vEDDDTA01h8cgDZgCL0E8Csk5I+EcooZrJmKRbFSKAJKPp6I7/C0MmQlJ+VloWPzKdGayDDVNtS3Q2tgoGEgvEoDWB1YRFqTIveFwFlMeyOGViXzkJn49gRcquOXz9ZncV6Rzk1HQZIqJk6FHqEdQwntvza4PSSXISNrLvUrU6sapn9kKa4m8Q1e8pNHMwcMdZFFKpWbD2FUPkAXrxuMPpaFiAnWmTtq0tEX3Hrorzx127iYOYoK4sFW7Oh41uqAtvCSSnmt1a2Rhdl6kgKGVsQwL2ZxKBjuPaQlHwS7nzdrQPeebj8MH6+SYCTb0H2/+zRU7xxVbLmdocuY6W723Ed7HQIg+mlMGJWL22Aa/vudFufRA82XtFQGb9Xkpjntonb513cPDMmVRRNubKJqxI6YS2lNjgU2/DogtASgPzBIQbp9R2NJ1U7Ssc9XnlKjcnjizadjHNuPjz2m6Ytom1pjH/38ulRMzkX1ybgO8zaZLSSLfElQnaEQxuoB8BmaDfjxbLJX47aJPFXimluv+INYR1SCLkPMZwIXlUW/YXwwHt9rqkvj7eEQrimiOzd+StdpeLy0PFTfJXiHnEpys3zbnBaCm4M4e+C7OCwCRKTtWwfQD1ZW7bnsMzPuxs7PKHnAzWcwN9YKdBpD2QnO4/CmtcPoCbEpu36MeApTkH9atc6/0WTpOxD8gD898Vxv7MoYu0ASsIunyQqMYQ84sgNd28pw67PiIX+LZXqnoeTkYjkLwSTWR+JH3Ak9Mu7k7puTHNqAivjclkkr601cfkcMvkmR2Y4ehzK3vrI7uPalgcgvI5nP89syADmLLqsfEcnxvgOtn82Gc/5GGJxsyOTe09pwzDWOHaQD7k1k02JD6ODKNb2ozU3a1pbvtRQ2bTFseOJQYcRtNeflOFwQQ0Kg+dbJKgNRw63zrpMcJqeM0BtxJzeeD5/lKhCMsX1fLANMafwDb0kFtmzwq2bs4vdBusSNc+yUHVItBI3L/ucLuVHZoyDNzyPlmE5wcyFY5Gm7eGKu6YaZDwO+mbcCN+gRF15LeP6wbwDJ41/MokGnM77CA28dnhsKtnSV9oy7Q37CWYazxybZ54rEF2dCuGQyqTXJufcySr9BkB/h5L2aibvfzU2W+fc5gfoH3lp0g5VB1F/AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAgCAYAAAABtRhCAAAABGdBTUEAALGPC/xhBQAAAz5JREFUSA21V01IVFEUPufOKKgl1pQSmUFCEUY/g9UIReiU4dhoOtbOTSC1iLa1CYIogmrhNoq0TYsKxHIx46QUVJC4KxOJaJOQOuOgqfPz3judN/KG9+a9GR1nvIu5957zne+79517z3uDsI52ici2FAz7iKADARoIYDcSxQnwJwB+ECD6h85XjK+DCjg+e2sNzp0lBZ8S0d6sSMSAzUZX3rl3/MmGyyrYGgjfZKH7BCSykWg+RJxDG7QPuR2fNVt6n1HQMxzykUKv0wPWmiPCXzuUOAeby6atsJYr7/y4tIt31mcVsJaN81yVgJUXmXCWgrFotAcItmQKWtNO4G4Lhg9b4UyC6olUCHqswLnYErJyzQpvElweCZ8EoGorcE42BJ8V3iSoKOS0AuZsI6jsHA2ZFm4SRII9OZNnCIjLZi6TIBDWZojP2cwFw8RluIcXAhG3TFIwZ+bMAbNVxY6avkaMahDDDhWQujRHgfqds1L4jJ7LIMjFuEbvLMRYATBwGgT5OkiFENFzcM4MnKkctvgjTYCyH4js+oB8x1zQf2GJrX7odMW8ypXcYYd/sRJQelloMVWAa/I+Wpaeq2O1JQWjELvDtbNy1VT4X35ht3sDoeak4MX3kVpAzLt2rrVMCehBUpCLbNdmPErTAgiOtY0sHBD8NveanJtkkOWEV3DuXJvEb6IlBVwCkOKqBwG/8h0ZNaHyNPC16GXy1dKGEFd3OMGHJgS2om6B4lGe/GnhGLaXbr8tCK+zBmePJuwooLvYLlYGGst/M3qqxR/6wrenIS1yQ1MU+HDwFC5y8LOWQHiyTOC3VKXRGD2B+aMEyli+J5eJJ8uqHUde1WEyZRp/Wi3lXKLi5K/qFQ2w4R5Rik1H6tLjDTv0+OducFXoTQdteI7wz25H19smx3eNI7VDrnmcVbyrOQrS86emLNEtPVdK8Oo42Pn4luqdmcb8dT3F2JlMfr2dn1i5fp4SfFKPCd7iPb3TYhwTiI9PnHMctNnAyXc3++cIP1IhjFfNkENVwDsccskAl0GBQ4SwVbUx6Acv5lNRsXgz0Lgtotq05gku7Ac57iPE43ydqpEwwf0Mx47xovrT/039B3soCv5Lz+E6AAAAAElFTkSuQmCC\"","import React from 'react';\r\nimport \"./index_1.scss\"\r\nimport {post, get} from \"../../axios\"\r\nimport {inject, observer} from \"mobx-react\";\r\n\r\n// 观察者\r\n@inject('header')\r\n@observer\r\n\r\nclass index extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            login: true,//为true时代表登录，否则为注册\r\n        }\r\n    }\r\n\r\n    login = () => {\r\n        const params = {userName: this.name.value, passWord: this.pwd.value};\r\n\r\n        post(\"user/login\", params).then(res => {\r\n            console.log(\"登录测试::\", res)\r\n            if (res.data) {\r\n                const {header} = this.props;\r\n                header.changeInfo(res.data);\r\n                this.props.history.push(\"/home\");\r\n                localStorage.setItem(\"userInfo\", JSON.stringify(res.data))\r\n            }\r\n        });\r\n\r\n    };\r\n\r\n    register = () => {\r\n        const params = {\r\n            Username: this.name.value,\r\n            Password: this.pwd.value,\r\n            ConfirmPassword: this.confirmPwd.value\r\n        };\r\n\r\n        post(\"user/register\", params).then(res => {\r\n\r\n            if (res.data) {\r\n                this.props.history.push(\"/updateInfo\");\r\n            }\r\n        });\r\n    };\r\n\r\n    changeState = (res) => {\r\n        console.log(res)\r\n        this.setState((preState, props) => {\r\n                return {\r\n                    login: res\r\n                }\r\n            }\r\n        )\r\n    };\r\n\r\n    render() {\r\n        const {login} = this.state;\r\n        return (\r\n            <div id={\"loginPage\"}>\r\n                <div className={\"box_1X1\"}>\r\n\r\n                </div>\r\n\r\n                <div className={\"box_2X1\"}>\r\n\r\n                    {/*左*/}\r\n                    <div className={\"wrapper_2X1 uac\"}>\r\n\r\n                        <div className={\"wrapper_2X2 \"}>\r\n                            <div\r\n                                onClick={() => this.changeState(true)}\r\n                                className={login ? \"wrapper_2X3 uac_jc\" : \"wrapper_2X4 uac_jc\"}>\r\n                                密码登录\r\n                            </div>\r\n\r\n                            <div\r\n                                onClick={() => this.changeState(false)}\r\n                                className={login ? \"wrapper_2X4 uac_jc\" : \"wrapper_2X3 uac_jc\"}>\r\n                                注册\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className={\"text_12X1\"}>\r\n                            <input\r\n                                placeholder={\"请输入常用账号\"}\r\n                                type={\"text\"}\r\n                                className={\"editValue\"}\r\n                                ref={ref => this.name = ref}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className={\"text_12X1 margin-top28\"}>\r\n                            <input\r\n                                placeholder={\"请输入密码\"}\r\n                                type={\"password\"}\r\n                                className={\"editValue\"}\r\n                                ref={ref => this.pwd = ref}\r\n                            />\r\n                        </div>\r\n\r\n                        <div\r\n                            hidden={login}\r\n                            className={\"text_12X1 margin-top28\"}>\r\n                            <input\r\n                                placeholder={\"请再次输入密码\"}\r\n                                type={\"password\"}\r\n                                className={\"editValue\"}\r\n                                ref={ref => this.confirmPwd = ref}\r\n                            />\r\n                        </div>\r\n\r\n                        <div\r\n                            hidden={!login}\r\n                            className={\"box_202\"}>\r\n                            <div className={\"text_17X1\"}>\r\n                                忘记密码?\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div\r\n                            onClick={login ? this.login : this.register}\r\n                            className={\"text_18X1 uac_jc\"}>\r\n                            {login ? \"登 录\" : \"注 册\"}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/*右边*/}\r\n                    <div className={\"box_203 uac_jc\"}>\r\n                        <div className={\"text_21X1\"}>\r\n                            使用以下账号直接登录:\r\n                        </div>\r\n\r\n                        <div className={\"box_204\"}>\r\n                            <img\r\n                                className={\"wechat margin-right20\"}\r\n                                src={require(\"../../static/image/wechat.png\")}\r\n                            />\r\n\r\n                            <img\r\n                                className={\"qq\"}\r\n                                src={require(\"../../static/image/QQ.png\")}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default index\r\n","/**axios封装\r\n * 请求拦截、相应拦截、错误统一处理\r\n */\r\nimport axios from 'axios';\r\nimport QS from 'qs';\r\n// import {Toast} from 'vant';\r\n// import store from '../store/index'\r\n\r\nconst development = \"http://127.0.0.1:8888/blog/\";\r\nconst production = \"https://www.dontheway.com:8880/blog/\";\r\n\r\n// 环境的切换\r\nif (process.env.NODE_ENV == 'development') {\r\n    axios.defaults.baseURL = development;\r\n} else if (process.env.NODE_ENV == 'debug') {\r\n    axios.defaults.baseURL = '';\r\n} else if (process.env.NODE_ENV == 'production') {\r\n    axios.defaults.baseURL = production;\r\n}\r\n\r\n// 允许携带cookie，跨域设置。跨域的时候会造成无法携带cookie，这时需要允许跨域。同时后端也要进行配置\r\naxios.defaults.withCredentials = true;\r\n\r\n// 请求超时时间\r\naxios.defaults.timeout = 10000;\r\n\r\n// 请求头设置，post请求的时候必须设置'Content-Type': 'application/x-www-form-urlencoded'\r\n//以下两种写法都可以\r\naxios.defaults.headers = {\r\n    'Content-Type': 'application/x-www-form-urlencoded'\r\n};\r\n\r\n// post请求头\r\n// axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded;charset=UTF-8';\r\n\r\n// 请求拦截器\r\naxios.interceptors.request.use(\r\n    config => {\r\n        // 每次发送请求之前判断是否存在token，如果存在，则统一在http请求的header都加上token，不用每次请求都手动添加了\r\n        // 即使本地存在token，也有可能token是过期的，所以在响应拦截器中要对返回状态进行判断\r\n        // const token = store.state.token;\r\n        const token = \"\";\r\n        token && (config.headers.Authorization = token);\r\n        return config;\r\n    },\r\n    error => {\r\n        return Promise.error(error);\r\n    })\r\n\r\n// 响应拦截器\r\naxios.interceptors.response.use(\r\n    response => {\r\n        if (response.status === 200) {\r\n            return Promise.resolve(response);\r\n        } else {\r\n            return Promise.reject(response);\r\n        }\r\n    },\r\n    // 服务器状态码不是200的情况\r\n    error => {\r\n        if (error.response.status) {\r\n            switch (error.response.status) {\r\n                // 401: 未登录\r\n                // 未登录则跳转登录页面，并携带当前页面的路径\r\n                // 在登录成功后返回当前页面，这一步需要在登录页操作。\r\n                case 401:\r\n\r\n                    // router.replace({\r\n                    //     path: '/login',\r\n                    //     query: {redirect: router.currentRoute.fullPath}\r\n                    // });\r\n                    break;\r\n                // 403 token过期\r\n                // 登录过期对用户进行提示\r\n                // 清除本地token和清空vuex中token对象\r\n                // 跳转登录页面\r\n                case 403:\r\n                    // Toast({\r\n                    //     message: '登录过期，请重新登录',\r\n                    //     duration: 1000,\r\n                    //     forbidClick: true\r\n                    // });\r\n                    // // 清除token\r\n                    // localStorage.removeItem('token');\r\n                    // store.commit('loginSuccess', null);\r\n                    // // 跳转登录页面，并将要浏览的页面fullPath传过去，登录成功后跳转需要访问的页面\r\n                    // setTimeout(() => {\r\n                    //     router.replace({\r\n                    //         path: '/login',\r\n                    //         query: {\r\n                    //             redirect: router.currentRoute.fullPath\r\n                    //         }\r\n                    //     });\r\n                    // }, 1000);\r\n                    break;\r\n                // 404请求不存在\r\n                case 404:\r\n                    // Toast({\r\n                    //     message: '网络请求不存在',\r\n                    //     duration: 1500,\r\n                    //     forbidClick: true\r\n                    // });\r\n                    break;\r\n                // 其他错误，直接抛出错误提示\r\n                default:\r\n                // Toast({\r\n                //     message: error.response.data.message,\r\n                //     duration: 1500,\r\n                //     forbidClick: true\r\n                // });\r\n            }\r\n            return Promise.reject(error.response);\r\n        }\r\n    }\r\n);\r\n\r\n/**\r\n * get方法，对应get请求\r\n * @param {String} url [请求的url地址]\r\n * @param {Object} params [请求时携带的参数]\r\n */\r\nexport function get(url, params) {\r\n    return new Promise((resolve, reject) => {\r\n        axios.get(url, {\r\n            params: params,\r\n        })\r\n            .then(res => {\r\n                console.log(\"请求参数\", params);\r\n                console.log(\"请求地址\", url);\r\n                console.log(\"请求结果\", res);\r\n                resolve(res.data);\r\n            })\r\n            .catch(err => {\r\n                console.log(\"请求错误\", err);\r\n                reject(err.data)\r\n            })\r\n    });\r\n}\r\n\r\n/**\r\n * post方法，对应post请求\r\n * @param {String} url [请求的url地址]\r\n * @param {Object} params [请求时携带的参数]\r\n */\r\nexport function post(url, params) {\r\n    return new Promise((resolve, reject) => {\r\n        //axios的默认Content-Type是 application/json;charset=utf-8\r\n        //params= QS.stringify(params);   这会让参数拼接在URL后面\r\n        //如果后端参数是body中拿到的，那么需要设置Content-Type': 'application/x-www-form-urlencoded'\r\n        axios.post(url, params)\r\n            .then(res => {\r\n                console.log(\"请求参数\", params);\r\n                console.log(\"请求地址\", url);\r\n                console.log(\"请求结果\", res);\r\n                resolve(res.data);\r\n            })\r\n            .catch(err => {\r\n                console.log(\"请求错误\", err);\r\n                reject(err.data)\r\n            })\r\n    });\r\n}\r\n"],"sourceRoot":""}